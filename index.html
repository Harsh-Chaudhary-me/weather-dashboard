<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="style.css">
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"> -->
<title>Weather Details</title>
</head>
<body>
      
    <div class="container">
        <div class="card">
            <div class="input-box">
                <input type="text" name="city" id="city-value" placeholder="enter your city">
            <button id="search" onclick="search()"><i class="fa fa-search"></i></button>
            </div>
            <h2><i class="fa-solid fa-location-dot"></i><span id="location"> Enter your location</span></h2>
            <h6 id="weather"></h6>
            <h4><span id="temp">0</span><sup>o</sup>C</h4>
            <img src="" id="icon" alt="">
            <div class="details">
                <div class="humidity"><i class="fa fa-droplet"></i><span  id="humidity-value">0</span><br>Humidity</div>
            <div class="wind-speed"><i class="fa fa-wind"></i><span id="wind-details">0</span><br>Wind Speed</div>
            </div>
            <!-- <button class="refresh" onclick="window.location.reload()"><i class="fa fa-refresh"></i></button> -->
        </div>
    </div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
    function search(){
    const city=document.getElementById('city-value').value.trim(); 
    if (!city) return alert('Please enter a city name');
    const apiKey = "70be3603af90c1d86af40332ddec4edf";


    const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}`;

    
    var request=new XMLHttpRequest();
    request.open('GET',url,true);
    request.onload=function(){
        var obj=JSON.parse(this.response);
        console.log(obj);
        document.getElementById('weather').innerHTML=obj.weather[0].description;
        document.getElementById('location').innerHTML=obj.name;
        document.getElementById('temp').innerHTML=Math.round(obj.main.temp-273.15);
        document.getElementById('icon').src="https://openweathermap.org/img/w/"+obj.weather[0].icon+".png";
        document.getElementById('humidity-value').innerHTML=obj.main.humidity;
        document.getElementById('wind-details').innerHTML=obj.wind.speed;
    }
    if(request.status>=200 && request.status<400){
        var temp=obj.main.temp;

    }else{
        console.log("The city not accessible");
    }
    request.send();
}

 
 

</script>
</html>